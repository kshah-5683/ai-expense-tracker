/* =========================
   CORE STYLES & RESETS 
   ========================= */
.breakdown-list { max-height: 250px; overflow-y: auto; }
.breakdown-list::-webkit-scrollbar { width: 6px; }
.breakdown-list::-webkit-scrollbar-track { background: transparent; }
.breakdown-list::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }

.chart-container {
    position: relative;
    height: 400px;
    min-width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.table-container {
    max-height: 600px;
    overflow-y: auto;
}
.table-container thead th {
    position: sticky;
    top: 0;
    z-index: 10;
}

/* =========================
   THEME: RETRO FUTURE
   ========================= */

/* --- CSS VARIABLES --- */
:root {
    /* Core Brand - Teal from Retro Sunset */
    --primary: #069494;
    --primary-hover: #057676;
    
    /* Light Mode Bases */
    --bg-main: #F8FAFC;
    --bg-card: #FFFFFF;
    --text-main: #1E293B;
    --text-muted: #64748B;
    --border-color: #E2E8F0;
}

html.dark {
    /* Dark Mode Bases - Deep Space Purple inspired by Space Berries */
    --bg-main: #1A1625; 
    --bg-card: #2D283E;
    --text-main: #EEEFFC;
    --text-muted: #A39EBB;
    --border-color: #3F3B52;
    
    /* Brighten primary for dark mode contrast */
    --primary: #2DD4BF; 
    --primary-hover: #14B8A6;
}

/* --- GLOBAL OVERRIDES --- */
body { background-color: var(--bg-main); color: var(--text-main); }

/* Override standard Tailwind utility classes with our theme variables */
.bg-white { background-color: var(--bg-card) !important; color: var(--text-main) !important; }
.bg-gray-50 { background-color: var(--bg-main) !important; }
.bg-gray-100 { background-color: var(--bg-main) !important; }

/* Text Color Overrides */
.text-gray-500, .text-gray-600, .text-gray-700 { color: var(--text-muted) !important; }
.text-gray-800, .text-gray-900 { color: var(--text-main) !important; }

/* Border Overrides */
.border-gray-200, .border-gray-300 { border-color: var(--border-color) !important; }
.divide-gray-200 > :not([hidden]) ~ :not([hidden]) { border-color: var(--border-color) !important; }

/* PRIMARY BRAND COLOR OVERRIDES (Replaces Indigo) */
.bg-indigo-600 { background-color: var(--primary) !important; }
.hover\:bg-indigo-700:hover { background-color: var(--primary-hover) !important; }
.text-indigo-600 { color: var(--primary) !important; }
.border-indigo-500 { border-color: var(--primary) !important; }
.focus\:ring-indigo-500:focus { --tw-ring-color: var(--primary) !important; }

/* DARK MODE SPECIFIC ADJUSTMENTS */
html.dark .bg-gray-200 { background-color: #3F3B52 !important; } /* Progress bar background */
html.dark .table-container thead th { background-color: #252138 !important; color: var(--text-main); }
html.dark .hover\:bg-gray-50:hover { background-color: #353049 !important; }
html.dark .hover\:bg-gray-100:hover { background-color: #353049 !important; }

/* Form Elements in Dark Mode */
html.dark input, html.dark textarea, html.dark select {
    background-color: #1A1625 !important;
    border-color: var(--border-color) !important;
    color: var(--text-main) !important;
}

/* Scrollbars for Dark Mode */
html.dark ::-webkit-scrollbar-thumb { background: #4B4663; }
html.dark ::-webkit-scrollbar-track { background: var(--bg-main); }

/* --- SPECIFIC COMPONENT OVERRIDES --- */

/* Fix for "washed out" total in dark mode: force it to use the darker teal */
html.dark #dashboard-total-expense {
    color: #069494 !important; /* Uses the darker Light Mode primary color */
}

/* Ensure the container for the total is visible in dark mode if it uses bg-indigo-50 */
html.dark .bg-indigo-50 {
    background-color: #EEEFFC !important; /* Very light lavender for contrast in dark mode */
    color: #1E293B !important;
}